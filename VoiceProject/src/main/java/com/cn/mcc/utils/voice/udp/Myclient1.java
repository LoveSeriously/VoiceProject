package com.cn.mcc.utils.voice.udp;
import java.net.*;
import java.io.*;
import java.util.Arrays;

/**
 * Created by yyzc on 2018/8/1.
 */
public class Myclient1 {
    private static final int CHUNCKED_SIZE = 2056;
    public static void main(String[] args) throws IOException {
//创建客户端
        DatagramSocket client=new DatagramSocket(6666);
//定义要发送的数据
        //double f=19.28;
        String f="123456789123456789123456789123456789123456789123456789123456789123456789123456789==" +
                "123456789123456789123456789123456789123456789123456789123456789123456789123456789==" +
                "123456789123456789123456789123456789123456789123456789123456789123456789123456789==" +
                "123456789123456789123456789123456789123456789123456789123456789123456789123456789==" +
                "123456789123456789123456789123456789123456789123456789123456789123456789123456789==" +
                "123456789123456789123456789123456789123456789123456789123456789123456789123456789==" +
                "123456789123456789123456789123456789123456789123456789123456789123456789123456789==" +
                "123456789123456789123456789123456789123456789123456789123456789123456789123456789==" +
                "123456789123456789123456789123456789123456789123456789123456789123456789123456789==" +
                "123456789123456789123456789123456789123456789123456789123456789123456789123456789==" +
                "123456789123456789123456789123456789123456789123456789123456789123456789123456789==" +
                "123456789123456789123456789123456789123456789123456789123456789123456789123456789==" +
                "123456789123456789123456789123456789123456789123456789123456789123456789123456789==" +
                "123456789123456789123456789123456789123456789123456789123456789123456789123456789==" +
                "123456789123456789123456789123456789123456789123456789123456789123456789123456789==" +
                "123456789123456789123456789123456789123456789123456789123456789123456789123456789==" +
                "123456789123456789123456789123456789123456789123456789123456789123456789123456789==" +
                "123456789123456789123456789123456789123456789123456789123456789123456789123456789==" +
                "";
//传化为字节数组
        byte[] revert = revert(f);
//封装数据
        System.out.println(revert.length);
        DatagramPacket data=new DatagramPacket(revert, revert.length, new InetSocketAddress("localhost", 8888));
//封装数据
        client.send(data);
//释放资源
        client.close();
    }

    public static byte[] revert(String f) throws IOException{
//字节数组流 新方法不能用多态
        ByteArrayOutputStream out=new ByteArrayOutputStream();
//从内存中把数据写入到程序中 所以为数据输出流
        DataOutputStream dOut=new DataOutputStream(out);
        byte[] b=null;
        dOut.writeChars(f);
       // byte[] b=null;
        //dOut.writeDouble(f);
//传化为字节数组
        b=out.toByteArray();
        return b;
    }
}
